<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 620 300">
  <style>
    .title { font: 600 13px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; }
    .subtitle { font: 500 10px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #666; letter-spacing: 0.5px; }
    .resp-title { font: 600 11px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; }
    .resp-item { font: 500 9px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; }
    .note { font: 500 10px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #fff; }
  </style>

  <!-- Background -->
  <rect width="620" height="300" fill="#fff"/>

  <!-- Title -->
  <text x="310" y="25" text-anchor="middle" class="title">Portfolio Agent Responsibilities</text>
  <text x="310" y="40" text-anchor="middle" class="subtitle">FOUR CORE FUNCTIONS</text>

  <!-- Responsibility 1 -->
  <rect x="30" y="55" width="135" height="115" fill="#dbeafe" stroke="#60a5fa" stroke-width="1.5" rx="2"/>
  <rect x="30" y="55" width="135" height="25" fill="#60a5fa" rx="2"/>
  <text x="97" y="73" text-anchor="middle" class="note">Function 1</text>
  <text x="97" y="98" text-anchor="middle" class="resp-title">Weight Optimization</text>
  <text x="40" y="118" class="resp-item">• Receive signal strength</text>
  <text x="40" y="133" class="resp-item">• Apply risk constraints</text>
  <text x="40" y="148" class="resp-item">• Calculate optimal weights</text>
  <text x="40" y="163" class="resp-item">• Output target holdings</text>

  <!-- Responsibility 2 -->
  <rect x="175" y="55" width="135" height="115" fill="#d1fae5" stroke="#10b981" stroke-width="1.5" rx="2"/>
  <rect x="175" y="55" width="135" height="25" fill="#10b981" rx="2"/>
  <text x="242" y="73" text-anchor="middle" class="note">Function 2</text>
  <text x="242" y="98" text-anchor="middle" class="resp-title">Factor Monitoring</text>
  <text x="185" y="118" class="resp-item">• Track factor exposures</text>
  <text x="185" y="133" class="resp-item">• Alert when over limit</text>
  <text x="185" y="148" class="resp-item">• Suggest hedge/rebalance</text>
  <text x="185" y="163" class="resp-item">• Identify hidden risks</text>

  <!-- Responsibility 3 -->
  <rect x="320" y="55" width="135" height="115" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" rx="2"/>
  <rect x="320" y="55" width="135" height="25" fill="#f59e0b" rx="2"/>
  <text x="387" y="73" text-anchor="middle" class="note">Function 3</text>
  <text x="387" y="98" text-anchor="middle" class="resp-title">Correlation Track</text>
  <text x="330" y="118" class="resp-item">• Monitor dynamic corr</text>
  <text x="330" y="133" class="resp-item">• Reduce weight if high</text>
  <text x="330" y="148" class="resp-item">• Find diversification</text>
  <text x="330" y="163" class="resp-item">• Crisis early warning</text>

  <!-- Responsibility 4 -->
  <rect x="465" y="55" width="135" height="115" fill="#67e8f9" stroke="#0891b2" stroke-width="1.5" rx="2"/>
  <rect x="465" y="55" width="135" height="25" fill="#0891b2" rx="2"/>
  <text x="532" y="73" text-anchor="middle" class="note">Function 4</text>
  <text x="532" y="98" text-anchor="middle" class="resp-title">Leverage Mgmt</text>
  <text x="475" y="118" class="resp-item">• Calc notional/risk lev</text>
  <text x="475" y="133" class="resp-item">• Enforce leverage caps</text>
  <text x="475" y="148" class="resp-item">• Monitor margin buffer</text>
  <text x="475" y="163" class="resp-item">• Stress test validation</text>

  <!-- Bottom: Collaboration -->
  <rect x="30" y="185" width="570" height="100" fill="#f3f4f6" stroke="#1a1a1a" stroke-width="1" stroke-dasharray="4,2" rx="2"/>
  <text x="310" y="210" text-anchor="middle" class="resp-title">Division with Risk Agent</text>
  <text x="310" y="235" text-anchor="middle" class="resp-item">Portfolio Agent: How to allocate optimally (pre-trade planning)</text>
  <text x="310" y="255" text-anchor="middle" class="resp-item">Risk Agent: Whether limits exceeded (during/post-trade review)</text>
  <text x="310" y="275" text-anchor="middle" class="resp-item">Portfolio suggests → Risk reviews/reduces/rejects → Execution acts</text>
</svg>
